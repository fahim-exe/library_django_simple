<!--
    1. check for errors
    2. user is authenticated 
        if not login

        give login form

    situation >> user logs in but gets no access or not logged in

-->

{% if form.errors %}

    <p>Username or Password was incorrect.</p>

{% endif %}


{% if next %}

    {% if user.is_authenticated %}

        <p>Permission Denied</p>

    {% else %}
        <p>Please Login first</p>

    {% endif %}

{% endif %}


<form action = "{% url "login" %}" method="POST">

    {% csrf_token %}

    {{form.username.label_tag}}
    {{form.username}}
    
    {{form.passowrd.label_tag}}
    {{form.password}}

    <input type='submit' value="Login">
    <input type='hidden' name='next' value="{{next}}">

</form>